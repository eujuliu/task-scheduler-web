<app-button
  [ariaExpanded]="opened"
  [role]="'combobox'"
  cdkOverlayOrigin
  #trigger="cdkOverlayOrigin"
  [class.open]="opened"
  (click)="opened = !opened"
  [style]="'outline'"
>
  <div class="select-trigger" appResize (resizeEl)="updateTriggerWidth($event.width)">
    <ng-content select=".trigger">
      {{ value || "Select a item" }}
      <ion-icon name="chevron-down-outline" />
    </ng-content>
  </div>
</app-button>

<ng-template
  cdkConnectedOverlay
  [cdkConnectedOverlayOrigin]="trigger"
  [cdkConnectedOverlayOpen]="opened"
  (overlayOutsideClick)="opened = false"
  [cdkConnectedOverlayPanelClass]="'select-content'"
  [cdkConnectedOverlayWidth]="contentWidth()"
>
  <ng-content />
</ng-template>
