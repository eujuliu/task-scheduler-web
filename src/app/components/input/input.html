@if (label.length > 0) {
<label [for]="id()">{{ label }}</label>
}

<div class="input-wrapper" [class]="invalid && dirty ? 'invalid' : ''">
  <input
    [id]="id()"
    (input)="setInput($event)"
    type="{{ inputType() }}"
    [placeholder]="placeholder"
    [disabled]="disabled"
    autocomplete="off"
  />

  @if (icon) {
  <ion-icon [name]="icon" aria-hidden="true" class="icon"></ion-icon>
  } @else if (type === "password") {
  <app-button [type]="'button'" [style]="'ghost'" [size]="'lg'" (click)="changeInputVisibility()">
    <ion-icon
      [name]="showPassword() ? 'eye-off-outline' : 'eye-outline'"
      [attr.aria-label]="showPassword() ? 'hidden' : 'show'"
      [style.font-size]="'2rem'"
    ></ion-icon>
  </app-button>
  }
</div>

@if (type === "password" && value.length > 0) {
<div
  class="strength-indicators"
  [class]="strength()"
  [style.--strength-indicator]="'\'' + strength() + '\''"
>
  <span class="first"></span>
  <span class="second"></span>
  <span class="third"></span>
  <span class="fourth"></span>
</div>
} @if (invalid && dirty) {
<div class="errors">
  @for (key of errors; track idx; let idx = $index) {
  <span class="error">{{ getErrorMessage(key) }}</span>
  }
</div>
}
